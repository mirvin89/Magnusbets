(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18500,e=>{"use strict";var t=e.i(18733),s=e.i(58648),a=e.i(93001);let r=()=>{let[e,r]=(0,s.useState)([]),[l,o]=(0,s.useState)(!0),[d,n]=(0,s.useState)(null),[i,c]=(0,s.useState)({event:"",wager:"",odds:"",outcome:"pending"}),[x,u]=(0,s.useState)({totalBets:0,totalWagered:"0.00",totalProfit:"0.00",winRate:"0.0",roi:"0.0"}),[m,h]=(0,s.useState)("all"),p=async()=>{o(!0),n(null);try{let{data:e,error:t}=await a.supabase.from("bets").select("*").order("date",{ascending:!1});if(t)throw t;r(e||[])}catch(e){console.error("Failed to fetch bets:",e),n(e instanceof Error?e.message:"Failed to load bets")}finally{o(!1)}};(0,s.useEffect)(()=>{p()},[]),(0,s.useEffect)(()=>{let t=e.length,s=e.reduce((e,t)=>e+(t.wager||0),0),a=e.filter(e=>"win"===e.outcome).length,r=e.reduce((e,t)=>{let s=t.wager||0,a=t.odds||1;switch(t.outcome){case"win":return e+s*(a-1);case"loss":return e-s;default:return e}},0),l=t?(a/t*100).toFixed(1):"0.0",o=s?(r/s*100).toFixed(1):"0.0";u({totalBets:t,totalWagered:s.toFixed(2),totalProfit:r.toFixed(2),winRate:l,roi:o})},[e]);let b=async t=>{if(t.preventDefault(),!i.event||!i.wager||!i.odds)return;let s=parseFloat(i.wager),l=parseFloat(i.odds);if(isNaN(s)||isNaN(l)||s<=0||l<=0)return void n("Invalid wager or odds");let o={event:i.event,wager:s,odds:l,outcome:i.outcome,date:new Date().toISOString().split("T")[0],sport:"Basketball",league:"NBA",notes:"Added via web interface"};try{n(null);let{data:t,error:s}=await a.supabase.from("bets").insert([o]).select();if(s)throw s;t&&t[0]&&r([t[0],...e]),c({event:"",wager:"",odds:"",outcome:"pending"})}catch(e){console.error("Failed to add bet:",e),n(e instanceof Error?e.message:"Failed to add bet")}},g=async(t,s)=>{try{let{error:l}=await a.supabase.from("bets").update({outcome:s}).eq("id",t);if(l)throw l;r(e.map(e=>e.id===t?{...e,outcome:s}:e))}catch(e){console.error("Failed to update bet:",e),n(e instanceof Error?e.message:"Failed to update bet")}},f=async t=>{if(confirm("Are you sure you want to delete this bet?"))try{let{error:s}=await a.supabase.from("bets").delete().eq("id",t);if(s)throw s;r(e.filter(e=>e.id!==t))}catch(e){console.error("Failed to delete bet:",e),n(e instanceof Error?e.message:"Failed to delete bet")}},j=e.filter(e=>"all"===m||e.outcome===m);return l?(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-8 text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading bets from database..."})]}):(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-8 animate-fade-in",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"MagnusBets Tracker"}),(0,t.jsx)("p",{className:"text-xl text-gray-300",children:"Track your bets, analyze performance, stay sharp."}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Connected to Supabase â€¢ ",e.length," total bets"]})]}),d&&(0,t.jsxs)("div",{className:"bg-red-500/20 border border-red-500/50 text-red-300 p-4 rounded-xl",children:[(0,t.jsx)("strong",{children:"Error:"})," ",d,(0,t.jsx)("button",{onClick:()=>n(null),className:"float-right text-sm hover:text-white",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700 shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Total Bets"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:x.totalBets})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700 shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Win Rate"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:[x.winRate,"%"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700 shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Total Wagered"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-blue-400",children:["$",x.totalWagered]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700 shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Total Profit"}),(0,t.jsxs)("p",{className:`text-3xl font-bold ${parseFloat(x.totalProfit)>=0?"text-green-400":"text-red-400"}`,children:["$",x.totalProfit]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700 shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"ROI"}),(0,t.jsxs)("p",{className:`text-3xl font-bold ${parseFloat(x.roi)>=0?"text-green-400":"text-red-400"}`,children:[x.roi,"%"]})]})]}),(0,t.jsxs)("form",{onSubmit:b,className:"bg-slate-800/50 backdrop-blur-sm p-8 rounded-3xl border border-slate-700 shadow-2xl",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Add New Bet"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Event (e.g., Lakers vs Warriors)",value:i.event,onChange:e=>c({...i,event:e.target.value}),className:"bg-slate-700/50 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"}),(0,t.jsx)("input",{type:"number",placeholder:"Wager ($)",value:i.wager,onChange:e=>c({...i,wager:e.target.value}),className:"bg-slate-700/50 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"Odds (decimal)",value:i.odds,onChange:e=>c({...i,odds:e.target.value}),className:"bg-slate-700/50 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"}),(0,t.jsxs)("select",{value:i.outcome,onChange:e=>c({...i,outcome:e.target.value}),className:"bg-slate-700/50 border border-slate-600 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"win",children:"Win"}),(0,t.jsx)("option",{value:"loss",children:"Loss"}),(0,t.jsx)("option",{value:"push",children:"Push"})]})]}),(0,t.jsx)("button",{type:"submit",className:"w-full mt-6 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:"Add Bet"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:["all","pending","win","loss","push"].map(e=>(0,t.jsx)("button",{onClick:()=>h(e),className:`px-6 py-2 rounded-full font-medium transition-all ${m===e?"bg-purple-500 text-white shadow-lg":"bg-slate-700/50 text-gray-300 hover:bg-slate-700 border border-slate-600 hover:border-slate-500"}`,children:e.toUpperCase()},e))}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full bg-slate-800/50 backdrop-blur-sm rounded-3xl border border-slate-700 shadow-2xl overflow-hidden",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-700/50",children:[(0,t.jsx)("th",{className:"p-4 text-left font-bold text-gray-200",children:"Date"}),(0,t.jsx)("th",{className:"p-4 text-left font-bold text-gray-200",children:"Event"}),(0,t.jsx)("th",{className:"p-4 text-left font-bold text-gray-200 hidden md:table-cell",children:"Wager"}),(0,t.jsx)("th",{className:"p-4 text-left font-bold text-gray-200 hidden lg:table-cell",children:"Odds"}),(0,t.jsx)("th",{className:"p-4 text-left font-bold text-gray-200",children:"Outcome"}),(0,t.jsx)("th",{className:"p-4 text-left font-bold text-gray-200",children:"P/L"}),(0,t.jsx)("th",{className:"p-4 text-right font-bold text-gray-200",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:j.map(e=>{let s=e.wager||0,a=e.odds||1,r=0;return"win"===e.outcome?r=s*(a-1):"loss"===e.outcome&&(r=-s),(0,t.jsxs)("tr",{className:"border-t border-slate-700/50 hover:bg-slate-700/30 transition-all",children:[(0,t.jsx)("td",{className:"p-4 font-medium",children:e.date}),(0,t.jsx)("td",{className:"p-4",children:e.event}),(0,t.jsxs)("td",{className:"p-4 hidden md:table-cell",children:["$",s.toFixed(2)]}),(0,t.jsx)("td",{className:"p-4 hidden lg:table-cell",children:a.toFixed(2)}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"win"===e.outcome?"bg-green-500/20 text-green-300":"loss"===e.outcome?"bg-red-500/20 text-red-300":"push"===e.outcome?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300"}`,children:e.outcome.toUpperCase()})}),(0,t.jsxs)("td",{className:`p-4 font-bold ${r>=0?"text-green-400":"text-red-400"}`,children:["$",r.toFixed(2)]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsxs)("select",{value:e.outcome,onChange:t=>g(e.id,t.target.value),className:"bg-slate-700/50 border border-slate-600 rounded-lg px-2 py-1 text-sm text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"win",children:"Win"}),(0,t.jsx)("option",{value:"loss",children:"Loss"}),(0,t.jsx)("option",{value:"push",children:"Push"})]}),(0,t.jsx)("button",{onClick:()=>f(e.id),className:"text-red-400 hover:text-red-300 p-1 rounded-lg hover:bg-red-500/20 transition-all",children:"ðŸ—‘ï¸"})]})})]},e.id)})})]}),0===j.length&&(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No bets to display. Add your first bet above!"})]}),(0,t.jsxs)("div",{className:"text-center text-gray-500 text-sm mt-8",children:[(0,t.jsx)("p",{children:"Data is stored in Supabase database. All changes are saved in real-time."}),(0,t.jsx)("p",{className:"mt-1",children:(0,t.jsx)("button",{onClick:p,className:"text-purple-400 hover:text-purple-300 underline",children:"Refresh data"})})]})]})};function l(){return(0,t.jsx)("div",{className:"min-h-screen",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Betting Dashboard"}),(0,t.jsx)("p",{className:"text-gray-400 mb-8",children:"Track your personal bets and performance."}),(0,t.jsx)(r,{})]})})}e.s(["default",()=>l],18500)}]);